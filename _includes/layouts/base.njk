<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>{{ site.page_title }}</title>
        <meta name="theme-color" content="#fff">
        <meta name="background-color" content="#fff">
        <link rel="apple-touch-icon" sizes="180x180" href="/favicon_data/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon_data/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon_data/favicon-16x16.png">
        <link rel="manifest" href="/favicon_data/site.webmanifest">
        <meta name="description" 
            content="Welcome! This is currently a photo gallery template with images provided by Pexels. Built with 
                the static site generator Eleventy. Replace my name with yours above if you've cloned the starter repository. 
                Always make sure to have a meta description tag with content for each page to improve SEO. Feel free to update 
                this description with any content of your choosing.">
        {% set css %}
            {% include "css/style.css" %}
            {% include "css/speedlify-score.css" %}
        {% endset %}
        <style lang="css">
            {{ css | cssmin | safe }}
        </style>
    </head>
    <body>
        <nav role="navigation">
            <header>
                <h1>
                    <a rel="noopener" href="/">{{ site.home_button_text }}</a>
                </h1>
                <ul class="nav-list">
                    <li><a class="link one" href="/">Home</a></li>
                    <li><a class="link" href="https://github.com/tannerdolby/eleventy-stock-gallery">Github</a></li>
                </ul>
            </header>
        </nav>
        <main role="main">
            <div class="page-banner">
                {{ content | safe}}
            </div>
            <section class="gallery">
                <div class="image-grid">
                    {% for image in gallery %}
                    <div class="image-container">
                        <a href="/{{ image.name | slug}}/" aria-label="Gallery {{ image.name }}" rel="noopener">
                            <picture>
                                <source
                                    type="image/webp"
                                    srcset="
                                        {{ image.ng_large.src }} {{ image.ng_large.width }}w, 
                                        {{ image.ng_med.src }} {{ image.ng_med.width }}w, 
                                        {{ image.ng_small.src }} {{ image.ng_small.width }}w
                                        "
                                    sizes="
                                        (min-width: 1100px) calc((1100px - 2 * 2rem - 2 * 3px) / 3),
                                        (min-width: 934px) calc(100vw - 2 * 2rem - 2 * 3px) / 3),
                                        (min-width: 643px) calc(100vw - 2 * 2rem - 1 * 3px) / 2),
                                        calc(100vw - 2 * 2rem)
                                        "
                                >
                                <img
                                    srcset="
                                        {{ image.large.src }} {{ image.large.width }}w, 
                                        {{ image.med.src }} {{ image.med.width }}w, 
                                        {{ image.small.src }} {{ image.small.width }}w
                                        "
                                    sizes="
                                        (min-width: 1100px) calc((1100px - 2 * 2rem - 2 * 3px) / 3),
                                        (min-width: 934px) calc(100vw - 2 * 2rem - 2 * 3px) / 3),
                                        (min-width: 643px) calc(100vw - 2 * 2rem - 1 * 3px) / 2),
                                        calc(100vw - 2 * 2rem)
                                        "
                                    src="{{ image.small.src }}"
                                    alt="{{ image.alt }}"
                                    loading="lazy"
                                >
                            </picture>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </section>
        </main>
        {% include "layouts/footer.njk" %}
        {% set js %}
            {% include "js/speedlify-score.js" %}
        {% endset %}
        <script>
            {{ js | jsmin | safe }}
        </script>
    </body>
</html>